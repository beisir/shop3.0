webpackJsonp([36],[function(e,n,i){var o=i(117),t=new o,a=function(){this.messageBtn=$("[data-node-name=pageComMessage]"),this.sendPhoneBtn=$("[data-node-name=sendMsgToPhone]"),this.initContactIcon(),this.bindEvent()};a.prototype={initContactIcon:function(){$.when($.ajax({url:"//madata.hc360.com/mobileweb/m/get/bindstatus",dataType:"jsonp",data:{imid:window.userName||window.welfarename}})).done(function(e){flag="200"==e.code,flag&&$("#contactChat").removeClass("contactChat").addClass("contactWX2")}).fail(function(){console.warn("Error on Internet,Please try again later!")})},bindEvent:function(){var e=this,n=$("#companyTmLayerWei");$(".wxIcoNew").mouseenter(function(){n.show()}).mouseleave(function(){n.hide()}),$("#qrcode1").mouseenter(function(){$(this).find(".cxcode2").show()}).mouseleave(function(){$(this).find(".cxcode2").hide()}),e.messageBtn.click(function(){window.righToolbar&&window.righToolbar.messageDialog&&window.righToolbar.messageDialog()}),e.sendPhoneBtn.click(function(){return e.sendMyPhoneHtml?void(e.msgDownload?resetCorMessage():$.getScript("//style.org.hc360.cn/js/detail/scripts/contact_msgDownload.min.js",function(){e.msgDownload=!0,resetCorMessage()})):void $.ajax({url:"//detail.b2b.hc360.com/detail/turbine/action/GetModuleEditBoxAction/eventsubmit_doGet/doGet?filename=sendMyPhoneHtml",dataType:"jsonp",success:function(n){e.sendMyPhoneHtml=n,$(".contact3Btn").append(n),e.msgDownload||$.getScript("//style.org.hc360.cn/js/detail/scripts/contact_msgDownload.min.js",function(){e.msgDownload=!0,resetCorMessage()})}})}),HC.HUB.addScript("//style.org.hc360.com/js/module/shop3.0/dist/common/jquery-inqueryOnline.dialog.js",function(){$("#contactChat").queryDialog({is3y:"1"==window.scyps.sc.is3y,companyName:window.infoname||"",providerId:window.scyps.sc.providerId})}),$.ajax({type:"get",url:"//order.b2b.hc360.com/brandneworder/checkbuslinks.html",data:{providerid:window.providerId},timeout:3e3,dataType:"jsonp",jsonp:"jsoncallback",success:function(e){e&&($("#sytico").length>0?$("#sytico").show():$("#service-message").length>0&&$("#service-message").show())},error:function(e){}}),e.checkMobilePhone()},checkMobilePhone:function(){var e=this,n=$("#checkMobilePhoneBox"),i=n.find("input"),o=n.find('[node-name="checkBtn"]');i.keyup(function(){this.value=this.value.replace(/\D/g,"")}).blur(function(){""==this.value?$(this).siblings("em.warning").show():/^1(3|5|7|8)\d{9}$/.test(this.value)||$(this).siblings("em.warning").show()}),i.siblings("em.warning").on("click",function(){var e=$(this);e.hide(),e.siblings("input").focus()}),o.on("click",function(){var o=$(this);return!o.attr("disabled")&&(o.attr("disabled",!0),""==$.trim(i.val())?(o.siblings("em.warning").show(),o.removeAttr("disabled"),!1):o.siblings("em.warning").is(":visible")?(o.removeAttr("disabled"),!1):void $.when(e.getQRcodeByLogin(i.val())).done(function(e){if(n.children(":eq(0)").hide(),n.append(e[0]),$("input#telephone_id")&&$("input#telephone_id").length>0){var i=$.trim($("input#telephone_id").val());n.siblings(".ContacCon3").find('[node-name="telephone"]').text(i)}if($("input#mp_id")&&$("input#mp_id").length>0){var o=$.trim($("input#mp_id").val());n.siblings(".ContacCon3").find('[node-name="mp"]').text(o)}if($("input#otherTelephone_id")&&$("input#otherTelephone_id").length>0){var t=$.trim($("input#otherTelephone_id").val());n.siblings(".ContacCon3").find('[node-name="otherTelephone"]').text(t)}if($("input#fax_id")&&$("input#fax_id").length>0){var a=$.trim($("input#fax_id").val());n.siblings(".ContacCon3").find('[node-name="fax"]').text(a)}var s=['<div class="sendCon" id="sendCardToPhone">\u626b\u7801\u53d1\u9001\u540d\u7247\u81f3\u624b\u673a','<div class="sendCodeImg" style="display: none"><img src="'+e[1]+'"/></div>',"</div>"].join("");n.siblings(".ContacCon3").find("li:eq(0)").append(s),$("#sendCardToPhone").hover(function(){var e=$(this);e.children().show()},function(){var e=$(this);e.children().hide()})}))})},getQRcodeByLogin:function(e){var n=this,i=$.Deferred(),o="",t=inquiryParamVO;return t.contact=encodeURIComponent(window.companyContactor||""),t.CompanyName=encodeURIComponent(window.infoname||""),t.comeUrl=window.location.href,t.type=27,t.buyerSourceId="detail_information_shop_company",t.isbusin=2,t.businTitle=encodeURIComponent(inquiryParamVO.areaName||""),e&&e.length>0&&(t.telPhone=e),$.when(n.getweChatDef()).done(function(e){e&&e.senceid?($.extend(t,{qrcodeid:e.senceid}),$.ajax({type:"get",url:"//my.b2b.hc360.com/my/turbine/action/favorites.Favorite_PurchaseAction/eventsubmit_doPerform/doPerform?",data:t,dataType:"jsonp",jsonp:"jsoncallback",timeout:3e3,success:function(n){if("yes"==n.code){o=["<dl>",'<dt>\u626b\u63cf\u4e0b\u65b9\u4e8c\u7ef4\u7801\uff0c\u53d1\u9001<b>\u516c\u53f8\u540d\u7247</b>\u81f3\u624b\u673a\uff0c\u5e76\u5b9e\u65f6\u63a5\u6536<b>\u5356\u5bb6\u56de\u590d\uff01</b><span class="bounce"><img src="//style.org.hc360.com/images/detail/mysite/siteconfig/new_product/newImg/handIco.png"></span></dt>','<dd><div class="codeImgNew2"><img src="'+e.weChatPic+'"></div></dd>',"</dl>"].join("");var t=[o,e.weChatPic];i.resolve(t)}else i.resolve("")},error:function(){alert("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01"),i.resolve("")}})):$("#checkMobilePhoneBox").find('[node-name="checkBtn"]').removeAttr("disabled")}).fail(function(){console.warn("Failed to get data,Please try again!"),i.resolve("")}),i},getweChatDef:function(){return $.ajax({url:"//detail.b2b.hc360.com/detail/turbine/action/ajax.MobileBcidAjaxAction/eventsubmit_dowechatpicid/doWechatpicid",type:"GET",dataType:"jsonp",data:{imid:"test-wsc"},jsonpCallback:"callback"})}},new a,window.pageEntity=t}]);